---
import { changeLanguage } from "i18next";
import allProjects from "../../data/projects-list";
import Divider from "../../presentation/components/atoms/Divider.astro";
import TitlePage from "../../presentation/components/atoms/TitlePage.astro";
import ProjectsList from "../../presentation/components/molecules/ProjectsList.astro";
import Layout from "../../presentation/layouts/Layout.astro";

changeLanguage("en");

const projects = Object.keys(allProjects).map((key: string) => ({
    ...allProjects[key],
    key,
}));
---

<Layout title="Listado de proyectos">
  <section>
    <TitlePage title="Mis proyectos" />
    <Divider />
    <p>
      Descubre todos los proyectos que he desarrollado a lo largo de mi carrera
    </p>
    <ProjectsList projects={projects} />
  </section>
</Layout>

<style>
  .container {
    display: grid;
    gap: 30px;
    grid-template-columns: repeat(3, 1fr);
  }
  section {
    width: 70%;
    margin: auto;
    padding-top: 70px;
    min-height: 100vh;
  }

  @media (max-width: 740px) {
    section {
      width: 90%;
    }
  }
</style>
